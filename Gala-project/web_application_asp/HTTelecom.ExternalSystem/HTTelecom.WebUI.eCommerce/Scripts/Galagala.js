var Galagala = Galagala || {}; Galagala.mall = { get: { index: function () { } }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.category = { items: [], get: { index: function () { $.ajax({ type: "GET", url: dataLink.c.index.link, cache: !0, dataType: "json", success: function (a) { var t = ""; t += '<li style="background-color: #e9e9e9; text-align: left; color: black; line-height: 42px; height: 42px; padding: 0px;position: relative; "><a class="mLeft-move cursor-point" data-value="0px" data-show="0" data-target="#side-nav-left-content" style="float: left;padding: 0px 10px;width:100%;"><i class="fa-icon fa-icon-left-81" style="float: left; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i>' + dataLink.c.index.Title + "</a></li>"; for (var e = 0; e < a.cate_1.length; e++) if ("undefined" != typeof a.cate_1[0].Logo_Url) { var n = !1, o = "", i = a.cate_1[e].Link; $.each(a.cate_2, function (t, o) { o.ParentCateId == a.cate_1[e].CategoryId && (n = !0) }), n && (o = "mLeft-move", i = "#"), t += '<li style="clear: both; padding: 0px; border-bottom: 1px solid #d2d2d2;position: relative;"><a class="children-after ' + o + ' user-padding-0" href="' + i + '" data-show="3" data-name="' + a.cate_1[e].CategoryName + '" data-catelv=" 1" data-getlv="2" style="min-height: 0px;" data-target="#side-nav-left-content" data-value="-600px" data-id="' + a.cate_1[e].CategoryId + '"><img src="' + galagala_config.HOST_MEDIA + a.cate_1[e].Logo_Url + a.cate_1[e].Logo_MediaName + '" style=" width: 36px; height: 36px; float: left; margin-right: 5px;" /><p style=" height: 44px; overflow: hidden; margin: 0px;font-size:13px;">' + a.cate_1[e].CategoryName + '</p><div style="position: absolute;top: 0px;right: 0px;background-color: white;">', t += n ? '<span class="secondary-content Cate_ProCount" style="padding:0px;"><i class="fa-icon fa-icon-right-44" style="float: right; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i></span>' : ' <span style="width: 32px; float: right; height: 100%;"></span>', t += ' <span class="secondary-content"  style="color:orange;">' + a.cate_1[e].ProductCount + "</span></div></a></li>" } $("#lstCategory1").html(t), t = "", t += '<li style="background-color: #e9e9e9; text-align: left; color: black; line-height: 42px; height: 42px; padding: 0px; "><a class="mLeft-move cursor-point" data-show="2" data-menushow="category" data-value="-280px" data-target="#side-nav-left-content" style="float: left; padding: 0px 10px; width: 100%;position: relative;"><i class="fa-icon fa-icon-left-81" style="float: left; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i><span class="title-category" data-catelv="2"></span></a></li>'; for (var e = 0; e < a.cate_2.length; e++) { var n = !1; $.each(a.cate_3, function (t, o) { o.ParentCateId == a.cate_2[e].CategoryId && (n = !0) }); var o = "", i = a.cate_2[e].Link; n && (i = "#", o = "mLeft-move"), t += '<li style="clear: both; padding: 0px; border-bottom: 1px solid #d2d2d2;position: relative;"><a class="children-after ' + o + '" href="' + i + '" data-show="4" data-name="' + a.cate_2[e].CategoryName + '" data-catelv="2" data-getlv="3" style="min-height: 0px;" data-target="#side-nav-left-content" data-value="-900px" data-id="' + a.cate_2[e].CategoryId + '" data-parent="' + a.cate_2[e].ParentCateId + '"><p style="height: 44px; overflow: hidden; margin: 0px;">' + a.cate_2[e].CategoryName + '</p><div style="position: absolute;top: 0px;right: 0px;background-color: white;">', t += n ? '<span class="secondary-content Cate_ProCount" style="padding:0px;"> <i class="fa-icon fa-icon-right-44" style="float: right; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i></span>' : '<span style="width: 32px; float: right; height: 100%;"></span>', t += ' <span class="secondary-content "  style="color:orange;">' + a.cate_2[e].ProductCount + "</span></div></a> </li>" } $("#lstCategory2").html(t), t = "", t += ' <li style="background-color: #e9e9e9; text-align: left; color: black; line-height: 42px; height: 42px; padding:0px;position: relative;"><a style="float: left; padding: 0px 10px; width: 100%; " data-show="3" class="mLeft-move cursor-point" data-value="-600px" data-target="#side-nav-left-content"><i class="fa-icon fa-icon-left-81" style="float: left; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i> <span class="title-category" data-catelv="3"></span> </a> </li>'; for (var e = 0; e < a.cate_3.length; e++) t += '<li style="clear: both; padding: 0px; border-bottom: 1px solid #d2d2d2; height: 44px;position: relative; "><a class="children-after" href="' + a.cate_3[e].Link + '" data-catelv="3" style="min-height: 0px;" data-target="#side-nav-left-content" data-value="-900px" data-id="' + a.cate_3[e].CategoryId + '" data-parent="' + a.cate_3[e].ParentCateId + '"><p style=" height: 44px; overflow: hidden; margin: 0px;">' + a.cate_3[e].CategoryName + '</p><div style="position: absolute;top: 0px;right: 0px;background-color: white;margin-right: 5px;"><span class="secondary-content" style="color:orange;">' + a.cate_3[e].ProductCount + "</span></div></a></li>"; $("#lstCategory3").html(t), "2" == g_Category.lv && ($("#lstCategory3").children("li").hide(), $($("#lstCategory3").children("li")[0]).show().children().html('<i class="fa-icon fa-icon-left-81" style="float: left; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i> <span class="title-category" data-catelv="3">' + g_Category.name_2 + "</span>"), $("#lstCategory3").find('a[data-parent="' + g_Category.cate_2 + '"]').parent().show(), $("#lstCategory2").children("li").hide(), $($("#lstCategory2").children("li")[0]).show().children().html('<i class="fa-icon fa-icon-left-81" style="float: left; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i> <span class="title-category" data-catelv="2">' + g_Category.name_1 + "</span>"), $("#lstCategory2").find('a[data-parent="' + g_Category.cate_1 + '"]').parent().show()), "1" == g_Category.lv && ($("#lstCategory2").children("li").hide(), $($("#lstCategory2").children("li")[0]).show().children().html('<i class="fa-icon fa-icon-left-81" style="float: left; transform: scale(0.35); -ms-transform: scale(.35); -webkit-transform: scale(.35); -moz-transform: scale(.35); -o-transform: scale(.35); -webkit-transform: scale(.35); margin-top: 6px; "></i> <span class="title-category" data-catelv="2">' + g_Category.name_2 + "</span>"), $("#lstCategory2").find('a[data-parent="' + g_Category.cate_2 + '"]').parent().show()) }, error: function () { } }), this.method() }, method: function () { $(document).on("click", ".children-item", function (a) { var a = $(this), t = $(".mLeft"); $.map(t, function (t) { $(t).css("display", "none"), $(t).attr("data-level") == a.attr("data-show") && "undefined" != typeof a.attr("data-menushow") && $(t).css("display", "block") }); var e = $(".mLeft[data-level='" + a.attr("data-level") + "']"); $.map(e, function (t) { $(t).css("display", "none"), $(t).attr("data-content") == a.attr("data-menushow") && $(t).css("display", "block") }), $(a.attr("data-target") + "[data-level='2']"), $(a.attr("data-target")).animate({ "margin-left": a.attr("data-valuechange") }) }), $(document).on("click", ".mLeft-move", function (a) { var t = 1 == $(a.target).hasClass("mLeft-move") ? $(a.target) : $(a.target).parent(), e = $(".mLeft"); $.map(e, function (a) { $(a).css("display", "none"), $(a).attr("data-level") == t.attr("data-show") && $(a).css("display", "block") }); var n = $(".mLeft[data-level='" + t.attr("data-show") + "']"); $.map(n, function (a) { $(a).css("display", "none"), $(a).attr("data-content") == t.attr("data-menushow") && $(a).css("display", "block") }), "undefined" != typeof t.attr("data-id") && $.map($(".children-after[data-catelv='" + t.attr("data-getlv") + "']"), function (a) { $('.title-category[data-catelv="' + t.attr("data-getlv") + '"]').text(t.attr("data-name")), $(a).attr("data-parent") == t.attr("data-id") ? $(a).parent().css("display", "block") : $(a).parent().css("display", "none") }), $(t.attr("data-target")).animate({ "margin-left": t.attr("data-value") }) }) } }, create: function () { console.log("Galagala.Category.Create"), $.ajax({ type: "GET", url: "/Particle/GetStore", cache: !1, dataType: "json", success: function () { }, error: function () { } }) }, remove: function () { }, init: function () { this.create() } }, Galagala.store = { items: [], get: { all: function () { $.ajax({ type: "GET", url: dataLink.s.all.link, cache: !0, dataType: "json", success: function (a) { for (var t = a.data.length % 6 == 0 ? a.data.length / 6 : parseInt(a.data.length / 6) + 1, e = "", n = 0; t > n; n++) { var o = 6 * n, i = o + 6; e += '<div class="item">', e += '<div class="row">'; for (var r = o; i > r; r++) "undefined" != typeof a.data[r] && (e += ' <div class="col s6" style="margin-bottom: 5px;padding:0px 3px;">', e += '<div class="card margin-0">', e += ' <div class="card-image">', e += '<a href="' + a.data[r].Link + '">', e += '<img src="http://galagala.vn:8888' + a.data[r].Url + a.data[r].MediaName + '" class="swiper-lazy" style="max-height: 100%; max-width: 100%; width: 100%; height: auto;">', e += " </a>", e += " </div>", e += ' <div class="card-action user-padding-0" style="  display: table;width: 100%;height: 33px;overflow: hidden;vertical-align: middle;">', e += ' <div class="margin-0" style="height: 33px; vertical-align: middle; width: 100%; text-align: center; max-height: 33px; display: table-cell;">', e += '   <a href="' + a.data[r].Link + '" data-element="color" title="@item.Store.StoreName" style="  width: 100%;white-space: normal;font-size:12px;margin: 0px;color:black;">' + a.data[r].StoreName + "</a>", e += "   </div>", e += "   </div>", e += "   </div>", e += "  </div>"); e += " </div>", e += " </div>" } $(dataLink.s.all.target).html(e), $(dataLink.s.all.target).owlCarousel({ itemsCustom: [[0, 1], [450, 1], [600, 1], [700, 1], [1e3, 1], [1200, 1], [1400, 1], [1600, 1]], navigation: !0 }) }, error: function () { } }) }, filter: function () { $.ajax({ type: "GET", url: dataLink.s.filter, cache: !0, dataType: "json", success: function () { }, error: function () { } }) } }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.product = { items: [], get: { gen: function (a) { for (var t = "", e = 0; e < a.data.length; e++) t += '<div class="item SwipProduct">', t += '<div class="card" style="width: 150px; height: 157px;">', t += '<div class="card-image">', t += '<a href="' + a.data[e].Link + '">', t += '  <img src="' + galagala_config.HOST_MEDIA + a.data[e].Url + a.data[e].MediaName + '" height="84" style="min-height: 84px; min-width: 150px; width: 150px !important; height: 84px !important; ">', t += " </a>", t += "  </div>", t += '  <div class="card-content user-padding-0">', t += '  <span class="title-name">', t += '  <a style="color: #000; margin: 0px;font-size:12px;" href="' + a.data[e].Link + '">', t += a.data[e].ProductName, t += "  </a>", t += " </span>", t += ' <p class="title-price">', t += null != a.data[e].PromotePrice && a.data[e].PromotePrice < a.data[e].PromotePrice ? a.data[e].PromotePrice_write : a.data[e].MobileOnlinePrice_write, t += " </p>", t += '  <div class="clearfix"></div>', t += " </div>", t += "  </div>", t += "    </div>"; $(a.target).html(t).css({ display: "block" }) }, p_buy: function () { $.ajax({ type: "GET", url: dataLink.p.buy.link, cache: !0, dataType: "json", success: function (a) { Galagala.product.get.gen({ data: a.data, target: dataLink.p.buy.target, next: dataLink.p.buy.next, prev: dataLink.p.buy.prev }) }, error: function () { } }) }, p_hot: function () { $.ajax({ type: "GET", url: dataLink.p.hot.link, cache: !0, dataType: "json", success: function (a) { Galagala.product.get.gen({ data: a.data, target: dataLink.p.hot.target, next: dataLink.p.hot.next, prev: dataLink.p.hot.prev }) }, error: function () { } }) }, p_recent: function () { $(dataLink.p.recent.target).length > 0 && $.ajax({ type: "GET", url: dataLink.p.recent.link, cache: !0, dataType: "json", success: function (a) { Galagala.product.get.gen({ data: a.data, target: dataLink.p.recent.target, next: dataLink.p.recent.next, prev: dataLink.p.recent.prev }) }, error: function () { } }) }, p_category: function () { $.ajax({ type: "GET", url: dataLink.p.category.link, cache: !0, dataType: "json", success: function (a) { 0 == a.data.length ? $(dataLink.p.category.target).parent().parent().remove() : Galagala.product.get.gen({ data: a.data, target: dataLink.p.category.target, next: dataLink.p.category.next, prev: dataLink.p.category.prev }) }, error: function () { } }) }, p_store: function () { $.ajax({ type: "GET", url: dataLink.p.top_store.link, cache: !0, dataType: "json", success: function (a) { Galagala.product.get.gen({ data: a.data, target: dataLink.p.top_store.target, next: dataLink.p.top_store.next, prev: dataLink.p.top_store.prev }) }, error: function () { } }) }, b_suggestions: function () { $.ajax({ type: "GET", url: dataLink.p.b_suggestions.link, cache: !0, dataType: "json", success: function (a) { Galagala.product.get.gen({ data: a.data, target: dataLink.p.b_suggestions.target, next: dataLink.p.b_suggestions.next, prev: dataLink.p.b_suggestions.prev }) }, error: function () { } }) } }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.brand = { items: [], get: { home_top: function () { $.ajax({ type: "GET", url: dataLink.b.top.link, cache: !0, dataType: "json", success: function (a) { for (var t = "", e = 0; e < a.data.length; e++) "undefined" != typeof a.data[e].Logo_Url && "" != a.data[e].Logo_Url && (t += '<a href="' + a.data[e].Link + '">', t += ' <img src="http://galagala.vn:8888' + a.data[e].Logo_Url + a.data[e].Logo_MediaName + '" width="100" height="100" style="max-height:100px;height:100px;width:auto;display: inline-block;white-space: nowrap;"/>', t += "</a>"); $(dataLink.b.top.target).html(t).css({ display: "block" }) }, error: function () { } }) } }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.language = { addtocart: "", get: function () { }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.province = { get: function () { }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.district = { get: function () { }, getByProvinceId: function () { }, create: function () { }, remove: function () { }, init: function () { } }, Galagala.alert = { get: function () { }, create: function () { }, remove: function () { }, init: function () { } };